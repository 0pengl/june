{% extends "layout.html" %}

{% block subtitle %}{{ _("Nodes") }}{% end %}

{% block content %}
<div class="ui-box">
    <div class="ui-box-header">
        <h3>{{ _("All Nodes")}}</h3>
    </div>
    {% for node in nodes %}
    <div class="ui-cell">
        <a class="node" href="/node/{{node.slug}}" style="
            {%if node.bgcolor%}background-color:{{node.bgcolor}};{%end%}
            {%if node.fgcolor%}color:{{node.fgcolor}};{%end%}
            {%if not node.fgcolor and node.bgcolor%}color:#fff;{%end%}
            ">{{escape(node.title)}}</a>
        <span class="ui-cell-top-right">{{node.topic_count}}</span>
        <p>{{node.description}}</p>
    </div>
    {% end %}
</div>
{% end %}

{% block sidebar %}
{% if current_user %}
<div class="ui-box">
    <div class="ui-box-header">
        <h4>{{_("Following Nodes")}}</h4>
    </div>
    <div class="ui-box-container">
        {% module FollowingNodes(current_user.id) %}
    </div>
</div>
{% end %}
{% end %}
